var PORT=80,VERSION="dev",FPS=3.28084,INCH=.03937,DEG=57.2958,MIL=.29089,DIAG=.707107,PI=3.14159;function uuid(e){e=e||10;for(var t=[],n=0;n<e;n++){var r=Math.floor(62*Math.random());t.push(r+=r<10?48:r<36?55:61)}return String.fromCharCode.apply(null,t)}var tz_offset=0;function millis(e){var t;return"undefined"!=typeof Window?window.performance.now()-(e||0):1e3*(t=process.hrtime())[0]+t[1]/1e6-(e||0)}var socket_handlers={},socket_send_timeout=0,socket_send_acks=!1,socket_last_recv=0,socket_timeout={};function socket_on(e,t){socket_handlers[e]=t}function socket_recv(e,t){if(socket_last_recv=Date.now(),socket_timeout[e.ipaddr]=0,socket_send_acks)socket_emit_do(e,"ack","ack");else if("ack"==t)return;var n;try{n=JSON.parse(t)}catch(e){return log("error parsing message",e),void log(t)}socket_handlers[n.type]&&socket_handlers[n.type](e,n.data)}function socket_emit(e,t,n){return socket_emit_do(e,t,JSON.stringify({type:t,data:n}))}function socket_emit_cache(e,t,n){return socket_emit_do(e,t,'{"type":"'+t+'","data":'+n+"}")}function socket_emit_do(t,e,n){if(t&&t.readyState==t.OPEN){if(socket_send_timeout)if(socket_timeout[t.ipaddr]){if(Date.now()>socket_timeout[t.ipaddr])return logc(t,"timeout"),t.terminate(),socket_timeout[t.ipaddr]=0}else socket_timeout[t.ipaddr]=Date.now()+socket_send_timeout;10240<n.length&&logc(t,"sending "+e+" ("+round(n.length/1024)+"kb)");try{return t.send(n,function(e){e&&logc(t,"socket send async error: "+e)}),1}catch(e){logc(t,"socket send error: "+e)}}return 0}function ip_ending(e){var t;return e&&"string"==typeof e?(t=e.lastIndexOf("."))<0?e:e.substring(t):"?"}Function.prototype.bind&&console&&"object"==typeof console.log&&$.each(["log"],function(e,t){console[t]=this.bind(console[t],console)},Function.prototype.call);var log_enabled=!0;function log(){if(log_enabled){var e=Array.prototype.slice.call(arguments);if(e.unshift("["+formatted_time(Date.now(),!0)+"]"),"undefined"!=typeof server){var t,n="";for(t in e)var r=e[t],n=n+("object"==typeof r?require("util").inspect(r,{depth:10}):r)+" ";console.log(n)}else console.log.apply(console,e)}}function update_object(e,t){for(var n in t)"object"==typeof t[n]&&null!=t[n]?("object"==typeof e[n]&&null!=e[n]||(Array.isArray(t[n])?e[n]=[]:e[n]={}),update_object(e[n],t[n])):null!=t[n]&&(e[n]=t[n])}function get(e,t){return e&&t&&e[t]?e[t]:0}function every(e,t){if(e)if(Array.isArray(e)){for(key in e)if(e[key]&&t(Number(key),e[key]))return}else for(key in e)if(e[key]&&t(key,e[key]))return}function array_move(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}function exists(e){return void 0!==e}function hide(e){e[0].style.visibility="hidden"}function show(e){e[0].style.visibility="visible"}function sleep(e){for(var t=Date.now();Date.now()<t+e;);}function sign(e){return e<0?-1:1}function min(e,t){return e<t?e:t}function max(e,t){return t<e?e:t}function abs(e){return e<0?-e:e}function clamp(e,t,n){return e<t?t:n<e?n:e}function ratio(e,t,n){return clamp((e-t)/(n-t),0,1)}function lerp(e,t,n,r,o){return r+ratio(e,t,n)*(o-r)}function random(e,t){return e+Math.random()*(t-e)}function round(e,t){return e?(t=Math.pow(10,t||0),Math.round(e*t)/t):0}function hue2rgb(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lerp_color(e,t){var n=lerp(e=clamp(e,0,1),0,1,.4,0),r=.5,o=1,t=(t?o=lerp(e,0,.25,0,1):r=lerp(e,0,.25,1,.5),r<.5?2*r:r+1-+r),e=2*r-t,r=hue2rgb(e,t,n+1/3),a=hue2rgb(e,t,n),e=hue2rgb(e,t,n-1/3);return"rgba("+(255*r).toFixed()+","+(255*a).toFixed()+","+(255*e).toFixed()+","+(o=(255*o).toFixed())+")"}function formatted_date(e){e=new Date(e+tz_offset).toDateString().split(" ");return e[1]+" "+e[2]+", "+e[3]}function formatted_date_md(e){e=new Date(e+tz_offset).toDateString().split(" ");return e[1]+" "+e[2]}var alphabet,alphabetIndexMap,use_24h_time=!1;function formatted_time(e,t){var e=new Date(e+tz_offset),n=e.getHours(),r=e.getMinutes(),e=(r<10&&(r="0"+r),t&&(r=r+"."+(t=(t=e.getSeconds())<10?"0"+t:t)),"");return use_24h_time||(e=" "+(12<=n?"pm":"am"),12<n?n-=12:0==n&&(n=12)),n+":"+r+e}function circleIntersectsPolygon(t,e,n){return pointInPolygon(t,e)||n.some(function(e){return pointLineSegmentDistance(t,e)<t.radius})}function polygonEdges(n){return n.map(function(e,t){return t?[n[t-1],e]:[n[n.length-1],e]})}function pointInPolygon(e,t){for(var n=t.length,r=0,o=n-1,a=e.x,i=e.y,u=!1;r<n;o=r++){var c=t[r].x,s=t[r].y,f=t[o].x,l=t[o].y;i<s^i<l&&a<(f-c)*(i-s)/(l-s)+c&&(u=!u)}return u}function pointLineSegmentDistance(e,t){var n,r=t[0],t=t[1];return Math.sqrt(pointPointSquaredDistance(e,!(n=pointPointSquaredDistance(r,t))||(e=((e.x-r.x)*(t.x-r.x)+(e.y-r.y)*(t.y-r.y))/n)<0?r:1<e?t:{x:r.x+e*(t.x-r.x),y:r.y+e*(t.y-r.y)}))}function pointPointSquaredDistance(e,t){var n=e.x-t.x,e=e.y-t.y;return n*n+e*e}function def(e){return void 0!==e}function compare(e,t){return naturalCompare.caseInsensitive(e,t)}var alphabetIndexMapLength=0;function isNumberCode(e){return 48<=e&&e<=57}function naturalCompare(e,t){for(var n=(e+="").length,r=(t+="").length,o=0,a=0;o<n&&a<r;){var i=e.charCodeAt(o),u=t.charCodeAt(a);if(isNumberCode(i)){if(!isNumberCode(u))return i-u;for(var c=o,s=a;48===i&&++c<n;)i=e.charCodeAt(c);for(;48===u&&++s<r;)u=t.charCodeAt(s);for(var f=c,l=s;f<n&&isNumberCode(e.charCodeAt(f));)++f;for(;l<r&&isNumberCode(t.charCodeAt(l));)++l;var d=f-c-l+s;if(d)return d;for(;c<f;)if(d=e.charCodeAt(c++)-t.charCodeAt(s++))return d;o=f,a=l}else{if(i!==u)return i<alphabetIndexMapLength&&u<alphabetIndexMapLength&&-1!==alphabetIndexMap[i]&&-1!==alphabetIndexMap[u]?alphabetIndexMap[i]-alphabetIndexMap[u]:i-u;++o,++a}}return n-r}function next_shot_position(e,t,n,r,o,a){if(e=clamp(e||1,1,4),n=1<=n&&n<=e?n:0,t=1<=t&&t<=e?t:0)return t;if(1==r)return 0;if(r){for(var i=0,u=1;u<=e;u++)r[u]&&i++;if(i==e)return 0}for(var c=n||1,s=(!a||2!=e&&3!=e?o=0:n&&(c=c%e+1),0),s=0;s<e;s++){var f=!0;if(f=(f=o&&!o[c]?!1:f)&&r&&r[c]?!1:f)break;c=c%e+1}return s==e?0:c}naturalCompare.caseInsensitive=naturalCompare.i=function(e,t){return naturalCompare((""+e).toLowerCase(),(""+t).toLowerCase())},Object.defineProperties(naturalCompare,{alphabet:{get:function(){return alphabet},set:function(e){alphabetIndexMap=[];var t=0;if(alphabet=e)for(;t<alphabet.length;t++)alphabetIndexMap[alphabet.charCodeAt(t)]=t;for(alphabetIndexMapLength=alphabetIndexMap.length,t=0;t<alphabetIndexMapLength;t++)void 0===alphabetIndexMap[t]&&(alphabetIndexMap[t]=-1)}}});VERSION = "1516427853"; 
PORT = 80; 
SM_ADDR = "192.168.100.1:80";
PORT = 80; 
